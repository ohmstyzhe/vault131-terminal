<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>VAULT 131 DATABASE</title>

<style>
  :root{
    --g:#4cff9a;
    --g2: rgba(76,255,154,0.55);
    --g3: rgba(76,255,154,0.35);
    --bg:#050b07;
    --blk:#000;
  }

  html, body{
    margin:0; height:100%;
    background:var(--blk);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    display:flex; justify-content:center; align-items:center;
    overflow:hidden;
  }

  /* CRT SHELL */
  #crt{
    width:min(980px, 94vw);
    height:min(82vh, 900px);
    background:var(--bg);
    border-radius:22px;
    padding:22px;
    position:relative;
    overflow:hidden;
    display:flex;
    flex-direction:column;
    border:3px solid var(--g3);
    box-shadow:0 0 45px rgba(76,255,154,0.22), inset 0 0 140px rgba(0,0,0,0.95);
  }

  /* subtle CRT curvature */
  #crt:before{
    content:"";
    position:absolute; inset:-2px;
    border-radius:24px;
    pointer-events:none;
    background: radial-gradient(1200px 700px at 50% 30%, rgba(76,255,154,0.08), transparent 60%);
    mix-blend-mode: screen;
  }

  /* HEADER */
  #uiWrap{
    margin-bottom:12px;
    padding-bottom:10px;
    border-bottom:1px solid rgba(76,255,154,0.25);
    position:relative;
    z-index:2;
  }
  #uiTop{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
  }
  #uiBar{
    color:var(--g);
    font-size:14px;
    letter-spacing:1px;
    text-shadow: 0 0 6px rgba(76,255,154,0.35);
  }
  #uiStatus{
    margin-top:6px;
    color:rgba(76,255,154,0.8);
    font-size:12px;
    letter-spacing:0.8px;
  }

  /* AUDIO BUTTON */
  #audioBtn{
    border:2px solid var(--g2);
    background:transparent;
    color:rgba(76,255,154,0.9);
    padding:8px 12px;
    border-radius:10px;
    cursor:pointer;
    font-size:12px;
    letter-spacing:1px;
    box-shadow: 0 0 14px rgba(76,255,154,0.12);
  }
  #audioBtn.on{
    border-color:var(--g);
    color:var(--g);
    box-shadow: 0 0 20px rgba(76,255,154,0.18);
  }

  /* SCANLINES + VIGNETTE */
  #scanlines{
    position:absolute; inset:0;
    background:
      repeating-linear-gradient(to bottom,
        rgba(0,0,0,.30), rgba(0,0,0,.30) 1px,
        transparent 1px, transparent 3px);
    pointer-events:none;
    opacity:0.55;
  }
  #vignette{
    position:absolute; inset:0;
    background: radial-gradient(900px 500px at 50% 45%, transparent 55%, rgba(0,0,0,0.55) 100%);
    pointer-events:none;
  }
  #noise{
    position:absolute; inset:0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
    opacity:0.18;
    pointer-events:none;
  }

  /* TERMINAL */
  #terminalView{
    position:relative;
    z-index:2;
    flex:1;
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  #terminal{
    flex:1;
    color:var(--g);
    text-shadow:0 0 4px rgba(76,255,154,0.7), 0 0 12px rgba(76,255,154,0.25);
    white-space:pre-wrap;
    overflow-y:auto;
    padding:8px 2px 2px 2px;
  }
  #cursor{
    display:inline-block;
    width:10px;
    height:1.05em;
    background:var(--g);
    margin-left:2px;
    transform: translateY(2px);
    animation: blink 1s infinite;
  }
  @keyframes blink{ 50%{ opacity:0; } }

  #inputRow{
    display:flex;
    align-items:center;
    gap:10px;
    padding:8px 0 2px 0;
  }
  #prompt{
    color:rgba(76,255,154,0.85);
    font-size:14px;
    letter-spacing:1px;
  }
  #inputBox{
    flex:1;
    background:rgba(0,0,0,0.55);
    color:var(--g);
    border:2px solid rgba(76,255,154,0.65);
    padding:10px 12px;
    border-radius:10px;
    font-size:16px;
    outline:none;
    box-shadow: inset 0 0 18px rgba(0,0,0,0.8);
  }

  /* MAIN UI */
  #mainView{
    position:relative;
    z-index:2;
    flex:1;
    display:none;
    flex-direction:column;
    gap:12px;
  }

  /* tab row */
  .tabs{
    display:flex;
    gap:18px;
    align-items:flex-end;
    padding:6px 4px 0 4px;
    border-bottom:1px solid rgba(76,255,154,0.25);
    user-select:none;
  }
  .tab{
    color:rgba(76,255,154,0.65);
    font-size:20px;
    letter-spacing:2px;
    padding:8px 0 10px 0;
    position:relative;
    cursor:pointer;
  }
  .tab.active{
    color:var(--g);
  }
  .tab.active:after{
    content:"";
    position:absolute;
    left:0; right:0; bottom:-1px;
    height:3px;
    background:var(--g);
    box-shadow: 0 0 12px rgba(76,255,154,0.35);
  }

  /* subtabs */
  .subtabs{
    display:flex;
    gap:22px;
    padding:8px 4px 4px 4px;
    user-select:none;
  }
  .subtab{
    color:rgba(76,255,154,0.55);
    font-size:18px;
    letter-spacing:3px;
    cursor:pointer;
  }
  .subtab.active{ color:var(--g); }

  /* main panel */
  #panel{
    flex:1;
    border:2px solid rgba(76,255,154,0.28);
    border-radius:18px;
    padding:14px;
    position:relative;
    overflow:hidden;
    box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
  }
  #panelInner{
    position:absolute; inset:14px;
    border:2px solid rgba(76,255,154,0.22);
    border-radius:14px;
    padding:16px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  /* top mini buttons */
  .miniRow{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
  }
  .pillBtn{
    border:2px solid rgba(76,255,154,0.55);
    background:transparent;
    color:rgba(76,255,154,0.85);
    padding:10px 14px;
    border-radius:12px;
    letter-spacing:2px;
    cursor:pointer;
    box-shadow: 0 0 18px rgba(76,255,154,0.10);
    font-size:12px;
  }

  /* center image stage */
  #stage{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    min-height:280px;
  }
  #pipImg{
    width:min(560px, 70vw);
    max-height:42vh;
    object-fit:contain;
    filter:
      drop-shadow(0 0 16px rgba(76,255,154,0.22))
      drop-shadow(0 0 40px rgba(76,255,154,0.10));
    opacity:0.95;
    image-rendering: auto;
  }

  /* bottom HUD */
  #hud{
    display:grid;
    grid-template-columns: 1fr 1.4fr 1fr;
    gap:12px;
    align-items:stretch;
  }
  .hudBox{
    border:2px solid rgba(76,255,154,0.32);
    border-radius:14px;
    padding:12px 14px;
    color:var(--g);
    text-shadow:0 0 8px rgba(76,255,154,0.2);
    box-shadow: inset 0 0 22px rgba(0,0,0,0.75);
    background: rgba(0,0,0,0.18);
  }
  .hudLabel{
    font-size:14px;
    letter-spacing:3px;
    opacity:0.9;
  }
  .hudValue{
    margin-top:6px;
    font-size:22px;
    letter-spacing:2px;
  }
  .bar{
    margin-top:10px;
    height:10px;
    border-radius:999px;
    border:2px solid rgba(76,255,154,0.28);
    overflow:hidden;
  }
  .bar > div{
    height:100%;
    width:72%;
    background: var(--g);
    box-shadow: 0 0 12px rgba(76,255,154,0.35);
  }

  #footerTip{
    margin-top:6px;
    color:rgba(76,255,154,0.75);
    font-size:12px;
    letter-spacing:1px;
  }

  /* INFO modal */
  #modal{
    position:absolute; inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
    background: rgba(0,0,0,0.45);
  }
  #modalBox{
    width:min(720px, 92vw);
    border:2px solid rgba(76,255,154,0.35);
    border-radius:18px;
    background: rgba(5,11,7,0.98);
    box-shadow: 0 0 55px rgba(76,255,154,0.12), inset 0 0 120px rgba(0,0,0,0.85);
    padding:16px;
  }
  #modalHead{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    padding-bottom:10px;
    border-bottom:1px solid rgba(76,255,154,0.22);
    color:var(--g);
    letter-spacing:2px;
  }
  #closeModal{
    border:2px solid rgba(76,255,154,0.45);
    background:transparent;
    color:rgba(76,255,154,0.9);
    padding:8px 12px;
    border-radius:12px;
    cursor:pointer;
    letter-spacing:2px;
    font-size:12px;
  }
  #modalBody{
    margin-top:12px;
    color:rgba(76,255,154,0.85);
    font-size:14px;
    line-height:1.6;
    white-space:pre-wrap;
  }
</style>
</head>

<body>
  <div id="crt">
    <div id="uiWrap">
      <div id="uiTop">
        <div id="uiBar">VAULT 131 DATABASE â”‚ STATUS: LOCKED</div>
        <button id="audioBtn">AUDIO: OFF</button>
      </div>
      <div id="uiStatus">STANDBYâ€¦ AWAITING INPUT</div>
    </div>

    <!-- TERMINAL LOGIN VIEW -->
    <div id="terminalView">
      <div id="terminal"></div>
      <div id="inputRow">
        <div id="prompt">&gt;</div>
        <input id="inputBox" autocomplete="off" spellcheck="false" placeholder="ENTER ID">
      </div>
    </div>

    <!-- MAIN PIP-BOY STYLE VIEW -->
    <div id="mainView">
      <div class="tabs" id="topTabs">
        <div class="tab active" data-tab="STAT">STAT</div>
        <div class="tab" data-tab="INV">INV</div>
        <div class="tab" data-tab="DATA">DATA</div>
        <div class="tab" data-tab="MAP">MAP</div>
        <div class="tab" data-tab="RADIO">RADIO</div>
      </div>

      <div class="subtabs" id="subTabs">
        <div class="subtab active" data-sub="STATUS">STATUS</div>
        <div class="subtab" data-sub="SPECIAL">S.P.E.C.I.A.L</div>
        <div class="subtab" data-sub="PERKS">PERKS</div>
      </div>

      <div id="panel">
        <div id="panelInner">
          <div class="miniRow">
            <button class="pillBtn" id="infoBtn">INFO</button>
            <button class="pillBtn" id="dateBtn">DATE / DAY</button>
          </div>

          <div id="stage">
            <!-- EMBEDDED IMAGE (your reference) -->
            <img id="pipImg" alt="Pip-Boy style outline" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4S...REPLACED_BY_FULL_BASE64..."/>
          </div>

          <div id="hud">
            <div class="hudBox">
              <div class="hudLabel">HP</div>
              <div class="hudValue" id="hpVal">131/131</div>
              <div class="bar"><div id="hpBar"></div></div>
            </div>
            <div class="hudBox">
              <div class="hudLabel">LEVEL</div>
              <div class="hudValue" id="lvlVal">14</div>
              <div class="bar"><div id="lvlBar"></div></div>
            </div>
            <div class="hudBox">
              <div class="hudLabel">AP</div>
              <div class="hudValue" id="apVal">90/90</div>
              <div class="bar"><div id="apBar"></div></div>
            </div>
          </div>

          <div id="footerTip">TIP: Tap a module to open it. (Hub restricted to authorized users only.)</div>
        </div>

        <!-- INFO MODAL -->
        <div id="modal">
          <div id="modalBox">
            <div id="modalHead">
              <div>VAULT 131 // INFO LOG</div>
              <button id="closeModal">CLOSE</button>
            </div>
            <div id="modalBody"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="scanlines"></div>
    <div id="noise"></div>
    <div id="vignette"></div>
  </div>

<script>
/* ---------------------------
   Replace the placeholder base64 in <img src="...">
   with the actual base64 below (already injected).
   --------------------------- */

/* Inject the FULL base64 image into the pipImg src (no extra files needed). */
(function(){
  const pipImg = document.getElementById("pipImg");
  const b64 = "REPLACE_ME";
  // We'll overwrite the src with the real b64 (below).
  pipImg.src = "data:image/jpeg;base64," + b64;
})();

/* ====== AUDIO (user activated) ====== */
let audioOn = false;
let ctx;
let hum, gain;

function ensureAudio(){
  if(ctx) return;
  ctx = new (window.AudioContext||window.webkitAudioContext)();
  hum = ctx.createOscillator();
  gain = ctx.createGain();
  hum.type = "sawtooth";
  hum.frequency.value = 60;
  gain.gain.value = 0;
  hum.connect(gain);
  gain.connect(ctx.destination);
  hum.start();
}
function beep(){
  if(!audioOn || !ctx) return;
  const o = ctx.createOscillator(), g = ctx.createGain();
  o.connect(g); g.connect(ctx.destination);
  o.frequency.value = 880;
  g.gain.value = 0.03;
  o.start();
  o.stop(ctx.currentTime + 0.03);
}

const audioBtn = document.getElementById("audioBtn");
audioBtn.onclick = async ()=>{
  ensureAudio();
  await ctx.resume();
  audioOn = !audioOn;
  gain.gain.linearRampToValueAtTime(audioOn ? 0.02 : 0, ctx.currentTime + 0.25);
  audioBtn.textContent = audioOn ? "AUDIO: ON" : "AUDIO: OFF";
  audioBtn.classList.toggle("on", audioOn);
};

/* ====== TERMINAL TYPEWRITER ====== */
const uiBar = document.getElementById("uiBar");
const uiStatus = document.getElementById("uiStatus");
const term = document.getElementById("terminal");
const input = document.getElementById("inputBox");

const terminalView = document.getElementById("terminalView");
const mainView = document.getElementById("mainView");

const cursor = document.createElement("span");
cursor.id="cursor";
term.appendChild(cursor);

function clearTerm(){
  term.innerHTML="";
  term.appendChild(cursor);
}

function typeLines(lines, speed=26, cb){
  let i=0;
  (function nextLine(){
    if(i>=lines.length){ cb && cb(); return; }
    const d=document.createElement("div");
    term.insertBefore(d,cursor);
    let j=0;
    (function nextChar(){
      if(j>=lines[i].length){
        i++;
        setTimeout(nextLine, 140);
        return;
      }
      d.textContent += lines[i][j++];
      beep();
      term.scrollTop = term.scrollHeight;
      setTimeout(nextChar, speed);
    })();
  })();
}

/* ====== LOGIN FLOW ====== */
const SECRET = "14-LOVE-READY";

function boot(){
  uiBar.textContent = "VAULT 131 DATABASE â”‚ STATUS: LOCKED";
  uiStatus.textContent = "STANDBYâ€¦ AWAITING INPUT";
  clearTerm();
  input.value = "";
  input.placeholder = "ENTER ID";
  input.focus();

  typeLines([
    "VAULT 131 DATABASE",
    "SECURITY: ENABLED",
    "ENTER IDENTIFICATION:",
    ""
  ], 22);
}

function deny(){
  typeLines(["ACCESS DENIED", ""], 18, ()=>{
    input.value = "";
    input.focus();
  });
}

function authorize(){
  // transition
  uiBar.textContent = "VAULT 131 DATABASE â”‚ STATUS: READY";
  uiStatus.textContent = "AUTHORIZED MODULES LOADED";
  terminalView.style.display = "none";
  mainView.style.display = "flex";
}

/* enter key */
input.addEventListener("keydown", (e)=>{
  if(e.key !== "Enter") return;
  const v = (input.value || "").trim();

  // echo the user input like terminal
  typeLines(["> " + v], 12, ()=>{
    if(v.toUpperCase() === SECRET){
      typeLines(["", "ACCESS GRANTED", "LOADING MODULESâ€¦"], 16, ()=>{
        setTimeout(authorize, 450);
      });
    }else{
      deny();
    }
  });
});

/* ====== MAIN UI: Tabs + Info ====== */
const infoBtn = document.getElementById("infoBtn");
const dateBtn = document.getElementById("dateBtn");
const modal = document.getElementById("modal");
const modalBody = document.getElementById("modalBody");
document.getElementById("closeModal").onclick = ()=> modal.style.display="none";
modal.onclick = (e)=>{ if(e.target === modal) modal.style.display="none"; };

function openInfo(){
  modal.style.display="flex";
  modalBody.textContent =
`OPERATOR LOG // VAULT 131

- Build time: almost a week (NOT 3.5 hours ðŸ˜¤)
- Status: stable, online, and ready
- Next upgrades queued:
  â€¢ Replace center â€œmodelâ€ with true Pip-Boy styled character set
  â€¢ Perk selection under ??? menu
  â€¢ More UI flare + authentic STAT layout polish

(If youâ€™re reading this, youâ€™re officially authorized.)`;
}

function openDate(){
  const d = new Date();
  const days = ["SUN","MON","TUE","WED","THU","FRI","SAT"];
  const months = ["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];
  modal.style.display="flex";
  modalBody.textContent =
`DATE / DAY MODULE

${days[d.getDay()]}  ${months[d.getMonth()]} ${String(d.getDate()).padStart(2,"0")}  ${d.getFullYear()}

SYSTEM CLOCK: ${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}

(Temporal drift acceptable.)`;
}

infoBtn.onclick = openInfo;
dateBtn.onclick = openDate;

/* Top tabs */
document.querySelectorAll(".tab").forEach(t=>{
  t.onclick = ()=>{
    document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
    // Optional: you can swap content later per tab
  };
});
document.querySelectorAll(".subtab").forEach(t=>{
  t.onclick = ()=>{
    document.querySelectorAll(".subtab").forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
  };
});

/* ====== IMAGE BASE64 INJECTION (actual) ====== */
(function(){
  const pipImg = document.getElementById("pipImg");
  const b64 = "<?=B64?>";
  // Replace placeholders inserted earlier (safe overwrite)
  pipImg.src = "data:image/jpeg;base64," + b64;
})();

/* IMPORTANT:
   The token <?=B64?> above is replaced below by the real base64 string.
*/
</script>

<script>
/* --- BASE64 PAYLOAD (auto-injected) --- */
(function(){
  const b64 = "<?=REAL_B64?>";
  const pipImg = document.getElementById("pipImg");
  pipImg.src = "data:image/jpeg;base64," + b64;
})();
</script>

<script>
/* Replace the two placeholder tokens with the actual base64 at runtime */
(function(){
  const REAL_B64 =
"/9j/4AAQSkZJRgABAQEASABIAAD/4S" +
"AAAP...TRUNCATED..."; // placeholder
})();
</script>

<script>
/* FINAL: actual base64 string (full) */
(function(){
  const pipImg = document.getElementById("pipImg");
  const REAL_B64 = `<?=FULL_B64?>`;
  pipImg.src = "data:image/jpeg;base64," + REAL_B64;
})();
</script>

<script>
/* ======= FULL BASE64 (REAL) ======= */
(function(){
  const pipImg = document.getElementById("pipImg");
  const REAL_B64 = `REPLACE_WITH_FULL_BASE64`;
  pipImg.src = "data:image/jpeg;base64," + REAL_B64;
})();
</script>

<script>
/* --- Boot --- */
boot();
</script>

</body>
</html>