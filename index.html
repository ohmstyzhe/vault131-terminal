<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VAULT 131 DATABASE</title>
<style>
  :root{
    --g:#4cff9a;
    --g2:rgba(76,255,154,.75);
    --g3:rgba(76,255,154,.35);
    --bg:#000;
    --panel:#050b07;
  }

  html,body{
    margin:0;height:100%;
    background:var(--bg);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
  }

  /* CRT frame */
  #crt{
    width:min(980px, 92vw);
    height:min(820px, 86vh);
    background:linear-gradient(180deg, rgba(7,14,10,.95), rgba(2,6,4,.98));
    border-radius:22px;
    border:3px solid var(--g3);
    box-shadow:0 0 55px rgba(76,255,154,.22), inset 0 0 160px rgba(0,0,0,.92);
    position:relative;
    overflow:hidden;
    padding:22px 22px 18px;
  }

  /* soft vignette + bloom */
  #crt::before{
    content:"";
    position:absolute; inset:-40px;
    background:radial-gradient(circle at 50% 35%, rgba(76,255,154,.10), transparent 55%),
               radial-gradient(circle at 50% 60%, rgba(76,255,154,.06), transparent 60%);
    pointer-events:none;
    filter:blur(2px);
    opacity:.95;
  }

  /* scanlines */
  #scanlines{
    position:absolute; inset:0;
    background:repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,.25), rgba(0,0,0,.25) 1px,
      transparent 1px, transparent 3px
    );
    mix-blend-mode:overlay;
    pointer-events:none;
    opacity:.75;
  }

  /* subtle flicker */
  #flicker{
    position:absolute; inset:0;
    background:rgba(76,255,154,.03);
    animation:flicker 5.5s infinite;
    pointer-events:none;
    opacity:.25;
  }
  @keyframes flicker{
    0%,100%{opacity:.15}
    10%{opacity:.28}
    11%{opacity:.10}
    25%{opacity:.22}
    40%{opacity:.12}
    70%{opacity:.26}
    71%{opacity:.08}
  }

  /* header */
  #topbar{
    position:relative;
    display:flex; align-items:flex-start; justify-content:space-between; gap:14px;
    border-bottom:1px solid rgba(76,255,154,.25);
    padding-bottom:12px;
    margin-bottom:12px;
    z-index:2;
  }
  #title{
    color:var(--g);
    text-shadow:0 0 4px rgba(76,255,154,.75), 0 0 14px rgba(76,255,154,.35);
    letter-spacing:1px;
    font-size:14px;
    line-height:1.25;
  }
  #status{
    color:rgba(76,255,154,.75);
    font-size:12px;
    margin-top:6px;
    letter-spacing:.9px;
  }

  #audioBtn{
    border:2px solid rgba(76,255,154,.55);
    background:transparent;
    color:rgba(76,255,154,.85);
    padding:8px 12px;
    border-radius:8px;
    cursor:pointer;
    font-size:12px;
    letter-spacing:1px;
    z-index:3;
    text-shadow:0 0 6px rgba(76,255,154,.25);
  }
  #audioBtn.on{
    border-color:var(--g);
    color:var(--g);
    box-shadow:0 0 16px rgba(76,255,154,.18);
  }

  /* content area */
  #content{
    position:relative;
    height:calc(100% - 70px);
    display:flex;
    z-index:2;
  }

  /* TERMINAL VIEW */
  #terminalView{
    width:100%;
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  #terminal{
    flex:1;
    overflow-y:auto;
    color:var(--g);
    text-shadow:0 0 4px rgba(76,255,154,.7), 0 0 12px rgba(76,255,154,.25);
    letter-spacing:.4px;
    font-size:14px;
    white-space:pre-wrap;
    padding:2px 2px 0;
  }
  #inputRow{
    display:flex;
    gap:10px;
    align-items:center;
  }
  #prompt{
    color:rgba(76,255,154,.9);
    text-shadow:0 0 6px rgba(76,255,154,.25);
    letter-spacing:1px;
    font-size:12px;
    min-width:85px;
  }
  #inputBox{
    flex:1;
    background:rgba(0,0,0,.55);
    color:var(--g);
    border:2px solid rgba(76,255,154,.65);
    border-radius:8px;
    padding:12px 12px;
    font-size:16px;
    outline:none;
    box-shadow:inset 0 0 18px rgba(0,0,0,.6);
  }

  /* cursor */
  #cursor{
    display:inline-block;
    width:10px;
    height:1.1em;
    transform:translateY(2px);
    background:var(--g);
    margin-left:3px;
    animation:blink 1s infinite;
  }
  @keyframes blink{50%{opacity:0;}}

  /* HUD VIEW */
  #hudView{
    width:100%;
    display:none;
    flex-direction:column;
    gap:12px;
  }

  .hudFrame{
    flex:1;
    border:2px solid rgba(76,255,154,.35);
    border-radius:16px;
    padding:14px;
    position:relative;
    box-shadow:inset 0 0 85px rgba(0,0,0,.75);
  }
  .hudTabs{
    display:flex; gap:18px; flex-wrap:wrap;
    border-bottom:1px solid rgba(76,255,154,.25);
    padding-bottom:10px;
    margin-bottom:10px;
    color:rgba(76,255,154,.85);
    letter-spacing:1px;
    font-size:14px;
    text-shadow:0 0 4px rgba(76,255,154,.5);
  }
  .hudTabs .active{
    color:var(--g);
    border-bottom:2px solid rgba(76,255,154,.8);
    padding-bottom:6px;
  }

  .hudInner{
    height:calc(100% - 44px);
    border:2px solid rgba(76,255,154,.25);
    border-radius:14px;
    padding:14px;
    position:relative;
    overflow:hidden;
  }

  /* Center "Vault-Tec Industries" in same text style as terminal */
  .hudCenter{
    position:absolute; inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:10px;
  }
  .hudCenter .big{
    color:var(--g);
    text-shadow:0 0 4px rgba(76,255,154,.75), 0 0 16px rgba(76,255,154,.25);
    letter-spacing:3px;
    font-size:clamp(20px, 4.2vw, 46px);
    font-weight:700;
  }
  .hudCenter .mid{
    color:rgba(76,255,154,.85);
    text-shadow:0 0 4px rgba(76,255,154,.55);
    letter-spacing:8px;
    font-size:clamp(10px, 1.8vw, 16px);
    font-weight:600;
  }
  .hudCenter .code{
    margin-top:8px;
    color:rgba(76,255,154,.95);
    text-shadow:0 0 5px rgba(76,255,154,.65), 0 0 18px rgba(76,255,154,.18);
    letter-spacing:6px;
    font-size:clamp(14px, 2.2vw, 20px);
    font-weight:800;
  }

  /* HUD corner boxes */
  .corner{
    position:absolute;
    border:2px solid rgba(76,255,154,.35);
    border-radius:10px;
    padding:10px 12px;
    color:rgba(76,255,154,.9);
    text-shadow:0 0 5px rgba(76,255,154,.35);
    letter-spacing:1px;
    font-size:12px;
    background:rgba(0,0,0,.25);
  }
  .tl{top:14px;left:14px}
  .tr{top:14px;right:14px}
  .bl{bottom:14px;left:14px}
  .br{bottom:14px;right:14px}

  /* small hint line */
  .hint{
    margin-top:10px;
    color:rgba(76,255,154,.65);
    font-size:12px;
    letter-spacing:.8px;
    text-shadow:0 0 4px rgba(76,255,154,.2);
  }
</style>
</head>

<body>
  <div id="crt">
    <div id="topbar">
      <div>
        <div id="title">VAULT 131 DATABASE │ STATUS: LOCKED</div>
        <div id="status">STANDBY… AWAITING INPUT</div>
      </div>
      <button id="audioBtn">AUDIO: OFF</button>
    </div>

    <div id="content">
      <!-- TERMINAL -->
      <div id="terminalView">
        <div id="terminal"></div>

        <div id="inputRow">
          <div id="prompt">&gt; INPUT</div>
          <input id="inputBox" autocomplete="off" placeholder="ENTER ID" />
        </div>
      </div>

      <!-- HUD -->
      <div id="hudView">
        <div class="hudFrame">
          <div class="hudTabs">
            <div class="active">STAT</div>
            <div>INV</div>
            <div>DATA</div>
            <div>MAP</div>
            <div>RADIO</div>
          </div>

          <div class="hudInner">
            <div class="corner tl">VAULT 131<br/>STATUS: READY</div>
            <div class="corner tr">AUDIO: <span id="hudAudio">OFF</span></div>
            <div class="corner bl">AUTHORIZED MODULES LOADED</div>
            <div class="corner br">SIGNAL: STABLE</div>

            <div class="hudCenter">
              <div class="big">VAULT-TEC</div>
              <div class="mid">INDUSTRIES</div>
              <!-- this is your end-code vibe (like the “531” you mentioned) -->
              <div class="code" id="finalCode">531</div>
              <div class="hint">SYSTEM NOTE: Hub restricted to authorized users only.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="flicker"></div>
    <div id="scanlines"></div>
  </div>

<script>
/* ---------------------------
   AUDIO (user-activated)
---------------------------- */
let audioOn = false;
const audioBtn = document.getElementById("audioBtn");

let ctx, hum, gain;
function initAudio(){
  if(ctx) return;
  ctx = new (window.AudioContext||window.webkitAudioContext)();
  hum = ctx.createOscillator();
  gain = ctx.createGain();
  hum.type = "sawtooth";
  hum.frequency.value = 60;
  gain.gain.value = 0;
  hum.connect(gain);
  gain.connect(ctx.destination);
  hum.start();
}
function beep(){
  if(!audioOn || !ctx) return;
  const o = ctx.createOscillator(), g = ctx.createGain();
  o.connect(g); g.connect(ctx.destination);
  o.frequency.value = 880;
  g.gain.value = 0.03;
  o.start();
  o.stop(ctx.currentTime + 0.03);
}
audioBtn.onclick = async ()=>{
  initAudio();
  await ctx.resume();
  audioOn = !audioOn;
  gain.gain.linearRampToValueAtTime(audioOn ? 0.02 : 0, ctx.currentTime + 0.25);
  audioBtn.textContent = audioOn ? "AUDIO: ON" : "AUDIO: OFF";
  audioBtn.classList.toggle("on", audioOn);
  document.getElementById("hudAudio").textContent = audioOn ? "ON" : "OFF";
};

/* ---------------------------
   TERMINAL TYPEWRITER
---------------------------- */
const title = document.getElementById("title");
const statusLine = document.getElementById("status");
const term = document.getElementById("terminal");
const input = document.getElementById("inputBox");

const cursor = document.createElement("span");
cursor.id = "cursor";

function clearTerminal(){
  term.innerHTML = "";
  term.appendChild(cursor);
}
function lineBreak(){
  const d = document.createElement("div");
  d.textContent = "";
  term.insertBefore(d, cursor);
}
function typeLines(lines, speed=22, done){
  let i = 0;
  (function nextLine(){
    if(i >= lines.length){ done && done(); return; }
    const d = document.createElement("div");
    term.insertBefore(d, cursor);
    let j = 0;
    (function typeChar(){
      if(j >= lines[i].length){
        i++;
        setTimeout(nextLine, 180);
        return;
      }
      d.textContent += lines[i][j++];
      beep();
      term.scrollTop = term.scrollHeight;
      setTimeout(typeChar, speed);
    })();
  })();
}

/* ---------------------------
   FLOW / STATE MACHINE
---------------------------- */
const SECRET_ID = "14-LOVE-READY";

const riddles = [
  {
    q: "RIDDLE 1: What has keys but can't open locks?",
    a: ["PIANO","A PIANO"]
  },
  {
    q: "RIDDLE 2: I speak without a mouth and hear without ears. What am I?",
    a: ["ECHO","AN ECHO"]
  },
  {
    q: "RIDDLE 3: What runs but never walks?",
    a: ["WATER","A RIVER","RIVER"]
  }
];

// change this to whatever you want your end-code to be:
const END_CODE = "531";

let mode = "LOGIN"; // LOGIN -> RIDDLE -> HUD
let rIndex = 0;

function norm(s){
  return (s||"").trim().toUpperCase();
}

function boot(){
  mode = "LOGIN";
  rIndex = 0;

  title.textContent = "VAULT 131 DATABASE │ STATUS: LOCKED";
  statusLine.textContent = "STANDBY… AWAITING INPUT";

  clearTerminal();
  typeLines([
    "VAULT 131 DATABASE",
    "SECURITY: ENABLED",
    "ENTER IDENTIFICATION:",
    "> "
  ], 22, ()=>{
    input.value = "";
    input.placeholder = "ENTER ID";
    input.focus();
  });
}

function deny(msg="ACCESS DENIED"){
  typeLines([msg, ""], 18, ()=>{
    input.value = "";
    input.placeholder = (mode === "LOGIN") ? "ENTER ID" : "ENTER ANSWER";
    input.focus();
  });
}

function startRiddles(){
  mode = "RIDDLE";
  title.textContent = "VAULT 131 DATABASE │ STATUS: READY";
  statusLine.textContent = "AUTHORIZED MODULES LOADED";
  clearTerminal();
  typeLines([
    "IDENTIFICATION ACCEPTED",
    "",
    "LOADING CHALLENGE SEQUENCE…",
    ""
  ], 20, ()=>{
    askRiddle();
  });
}

function askRiddle(){
  const r = riddles[rIndex];
  typeLines([
    r.q,
    "",
    "> "
  ], 20, ()=>{
    input.value = "";
    input.placeholder = "TYPE ANSWER";
    input.focus();
  });
}

function correct(){
  typeLines(["CONFIRMED.", ""], 18, ()=>{
    rIndex++;
    if(rIndex >= riddles.length){
      finishToHUD();
    }else{
      askRiddle();
    }
  });
}

function finishToHUD(){
  typeLines([
    "SEQUENCE COMPLETE.",
    "",
    "UNLOCKING HUD…",
    ""
  ], 18, ()=>{
    // Switch view
    document.getElementById("terminalView").style.display = "none";
    document.getElementById("hudView").style.display = "flex";

    // Set end code text (your “531” vibe)
    document.getElementById("finalCode").textContent = END_CODE;

    // Update header
    title.textContent = "VAULT 131 DATABASE │ STATUS: READY";
    statusLine.textContent = "AUTHORIZED MODULES LOADED";
  });
}

input.addEventListener("keydown", (e)=>{
  if(e.key !== "Enter") return;

  const val = norm(input.value);

  // prevent double-enter spamming while typing lines
  input.blur();

  if(mode === "LOGIN"){
    if(val === norm(SECRET_ID)){
      startRiddles();
    }else{
      // don’t reset the whole boot; just deny and re-prompt
      deny("ACCESS DENIED");
    }
    return;
  }

  if(mode === "RIDDLE"){
    const expected = riddles[rIndex].a;
    if(expected.includes(val)){
      correct();
    }else{
      deny("INCORRECT");
    }
    return;
  }
});

boot();
</script>
</body>
</html>